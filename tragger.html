<!DOCTYPE HTML> 
<html> 
<head> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<title>无标题文档</title> 


</head> 

<body> 
<button id="div1">div</button> 
<span id="span1">span</span> 
<input  id="parentIframe" type="button" value="ss"/>
</body> 
<script> 


  window.onload = function(){ 
      var oDiv = document.getElementById('div1'); 
      var oSpan = document.getElementById('span1'); 
       
      var aaa = function(){ 
          alert(1); 
      }; 
      var bbb = function(){ 
          alert(2); 
      }; 
      var ccc = function(){ 
          alert(3); 
      }; 
       
       
      add(oDiv,'click',aaa); 
      // add(oSpan,'show',bbb); 
      // add(oSpan,'hide',ccc); 
       
       
      trigger(oDiv,'click');  
       
  }; 
  
  function add(obj,types,fn){ 
       
      obj.listeners = obj.listeners || {}; 
      obj.listeners[types] = obj.listeners[types] || []; 
      obj.listeners[types].push(fn); 
       
      obj.addEventListener(types,fn,false); 
  } 
  function remove(obj,types,fn){ 
      obj.removeEventListener(types,fn,false); 
      delete obj.listeners[types]; 
  } 
  function trigger(obj,types){ 
      var arr = obj.listeners[types] || []; 
      for(var i=0;i<arr.length;i++){ 
          arr[i](); 
      } 
  }
  let oin = document.getElementById("parentIframe")
  oin.addEventListener('click', function () {
    alert('auto change')
  }, false)
  //一秒后模拟点击
    setTimeout(function() {
      // IE
      if(document.all) {
        document.getElementById("parentIframe").click();
      }
      // 其它浏览器
      else {
        var e = document.createEvent("MouseEvents");
        e.initEvent("click", true, true);
        document.getElementById("parentIframe").dispatchEvent(e);
      }
    }, 1000);
  </script>
</html> 